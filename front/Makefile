.PHONY: help dev up down restart logs shell install add lint format test clean-cache node-version deep-clean

PORT=3456

CYAN := \033[36m
GREEN := \033[32m
YELLOW := \033[33m
RED := \033[31m
MAGENTA := \033[35m
BOLD := \033[1m
RESET := \033[0m

help:
	@echo ""
	@echo "$(CYAN)â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—$(RESET)"
	@echo "$(CYAN)â•‘                                                            â•‘$(RESET)"
	@echo "$(CYAN)â•‘          $(BOLD)ğŸ¨ Frontend Nuxt 4 - Dev Mode ğŸ¨$(RESET)$(CYAN)                 â•‘$(RESET)"
	@echo "$(CYAN)â•‘                                                            â•‘$(RESET)"
	@echo "$(CYAN)â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•$(RESET)"
	@echo ""
	@echo "$(BOLD)âš¡ DÃ‰MARRAGE$(RESET)"
	@echo "  $(GREEN)make dev$(RESET)           ğŸ¬ Lance le front seul"
	@echo "  $(GREEN)make up$(RESET)            ğŸš€ Lance en arriÃ¨re-plan"
	@echo "  $(RED)make down$(RESET)          ğŸ›‘ ArrÃªte"
	@echo "  $(YELLOW)make restart$(RESET)       â™»ï¸  RedÃ©marre"
	@echo ""
	@echo "$(BOLD)ğŸ§¹ CACHE$(RESET)"
	@echo "  $(MAGENTA)make clean-cache$(RESET)   ğŸ’¨ Vide cache (nuxi cleanup)"
	@echo "  $(RED)make deep-clean$(RESET)    ğŸ”¥ Nettoyage profond + reinstall"
	@echo ""
	@echo "$(BOLD)ğŸ› ï¸  DÃ‰VELOPPEMENT$(RESET)"
	@echo "  $(GREEN)make shell$(RESET)         ğŸ’» Shell dans le conteneur"
	@echo "  $(GREEN)make install$(RESET)       ğŸ“¦ Install dÃ©pendances"
	@echo "  $(GREEN)make add PKG=x$(RESET)     â• Ajoute un package"
	@echo "  $(CYAN)make lint$(RESET)          ğŸ” Biome lint"
	@echo "  $(CYAN)make format$(RESET)        âœ¨ Biome format"
	@echo "  $(YELLOW)make test$(RESET)          ğŸ§ª Lance les tests"
	@echo ""
	@echo "$(BOLD)ğŸ“Š INFOS$(RESET)"
	@echo "  $(CYAN)make logs$(RESET)          ğŸ“œ Affiche les logs"
	@echo "  $(CYAN)make node-version$(RESET)  ğŸ“¦ Versions Node/pnpm/Nuxt"
	@echo ""
	@echo "$(YELLOW)âš ï¸  Pour lancer TOUTE la stack: utilisez le Makefile Ã  la racine$(RESET)"
	@echo ""

dev:
	@echo ""
	@echo "$(CYAN)â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—$(RESET)"
	@echo "$(CYAN)â•‘   ğŸ¨ DÃ©marrage Frontend...             â•‘$(RESET)"
	@echo "$(CYAN)â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•$(RESET)"
	@echo ""
	@echo "$(YELLOW)âš ï¸  Lance uniquement le front (sans back)$(RESET)"
	@echo "$(GREEN)ğŸš€ Frontend sur http://localhost:$(PORT)$(RESET)"
	@echo ""
	@docker compose up

up:
	@echo "$(GREEN)ğŸš€ Frontend sur http://localhost:$(PORT)$(RESET)"
	@docker compose up -d

down:
	@echo "$(RED)ğŸ›‘ ArrÃªt du frontend...$(RESET)"
	@docker compose down

restart:
	@echo "$(YELLOW)â™»ï¸  RedÃ©marrage du frontend...$(RESET)"
	@docker compose restart
	@echo "$(GREEN)âœ“$(RESET) Frontend redÃ©marrÃ©"

logs:
	@docker compose logs -f

shell:
	@echo "$(GREEN)ğŸ’» Ouverture du shell...$(RESET)"
	@docker compose exec front sh

install:
	@echo "$(GREEN)ğŸ“¦ Installation des dÃ©pendances...$(RESET)"
	@docker compose exec front pnpm install
	@echo "$(GREEN)âœ“$(RESET) Installation terminÃ©e"

add:
	@echo "$(GREEN)â• Ajout du package $(PKG)...$(RESET)"
	@docker compose exec front pnpm add $(PKG)
	@echo "$(GREEN)âœ“$(RESET) Package ajoutÃ©"

lint:
	@echo "$(CYAN)ğŸ” Linting en cours...$(RESET)"
	@docker compose exec front pnpm biome check .

format:
	@echo "$(CYAN)âœ¨ Formatage du code...$(RESET)"
	@docker compose exec front pnpm biome check --write .
	@echo "$(GREEN)âœ“$(RESET) Code formatÃ©"

test:
	@echo "$(YELLOW)ğŸ§ª ExÃ©cution des tests...$(RESET)"
	@docker compose exec front pnpm test

clean-cache:
	@echo ""
	@echo "$(MAGENTA)â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—$(RESET)"
	@echo "$(MAGENTA)â•‘   ğŸ’¨ Nettoyage du cache Nuxt...        â•‘$(RESET)"
	@echo "$(MAGENTA)â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•$(RESET)"
	@echo "$(CYAN)ğŸ§¹ Nuxi cleanup...$(RESET)"
	@docker compose exec front pnpm nuxi cleanup
	@echo "$(CYAN)ğŸ—‘ï¸  Suppression .output et dist...$(RESET)"
	@docker compose exec front rm -rf .output dist
	@echo "$(GREEN)âœ“$(RESET) Cache vidÃ© - RedÃ©marrage..."
	@$(MAKE) restart
	@echo ""

deep-clean:
	@echo ""
	@echo "$(RED)â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—$(RESET)"
	@echo "$(RED)â•‘   ğŸ”¥ Nettoyage profond...              â•‘$(RESET)"
	@echo "$(RED)â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•$(RESET)"
	@docker compose down -v
	@echo "$(RED)ğŸ—‘ï¸  Suppression node_modules...$(RESET)"
	@rm -rf node_modules .nuxt .output dist
	@echo "$(CYAN)ğŸ³ Rebuild du conteneur...$(RESET)"
	@docker compose build --no-cache
	@echo "$(GREEN)ğŸ“¦ Installation...$(RESET)"
	@docker compose up -d
	@docker compose exec front pnpm install
	@echo ""
	@echo "$(GREEN)âœ“$(RESET) Nettoyage profond terminÃ©"
	@echo ""

node-version:
	@echo "$(CYAN)ğŸ“¦ Versions:$(RESET)"
	@docker compose exec front node --version
	@docker compose exec front pnpm --version
	@docker compose exec front pnpm list nuxt --depth=0 2>/dev/null | grep nuxt || echo "Nuxt: (Ã  installer)"
```

---

## ğŸ“ RÃ©sumÃ© des emplacements
```
reportituf/
â”œâ”€â”€ Makefile                    â† Makefile RACINE (gÃ¨re toute la stack)
â”œâ”€â”€ docker-compose.global.yml
â”œâ”€â”€ .env
â”‚
â”œâ”€â”€ front/
â”‚   â”œâ”€â”€ Makefile                â† Makefile FRONT (gÃ¨re le front seul)
â”‚   â”œâ”€â”€ docker-compose.yml
â”‚   â”œâ”€â”€ nuxt.config.ts
â”‚   â””â”€â”€ ...
â”‚
â””â”€â”€ back/
    â””â”€â”€ ...